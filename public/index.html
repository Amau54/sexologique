<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
    <head>
	    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sexologue Clinicienne et Thérapeute de Couple à Nancy | Chloé François</title>
        <meta name="description" content="Besoin d'un accompagnement sur votre vie intime? Chloé François, sexologue clinicienne à Nancy (54), vous aide à retrouver bien-être et épanouissement. Prenez rendez-vous en ligne.">
		
		<script type="application/ld+json">
		{
		  "@context": "https://schema.org",
		  "@type": "MedicalBusiness",
		  "name": "Sexologue Clinicienne et Thérapeute de Couple à Nancy | Chloé François",
		  "description": "Besoin d'un accompagnement sur votre vie intime? Chloé François, sexologue clinicienne à Nancy (54), vous aide à retrouver bien-être et épanouissement. Prenez rendez-vous en ligne.",
		  "image": "https://www.sexo-logique.com/images/chloe640.avif",
		  "telephone": "+33612175272",
		  "email": "contact.sexologique@gmail.com",
		  "address": {
			"@type": "PostalAddress",
			"streetAddress": "52 rue des Jardiniers",
			"addressLocality": "Nancy",
			"postalCode": "54000",
			"addressCountry": "France"
		  },
		  "openingHours": "Mo-Su 08:00-21:00",
		  "url": "https://www.sexo-logique.com"
		}
		</script>
		
		<meta property="og:title" content="Sexologue Clinicienne et Thérapeute de Couple à Nancy | Chloé François" />
		<meta property="og:description" content="Besoin d'un accompagnement sur votre vie intime? Chloé François, sexologue clinicienne à Nancy (54), vous aide à retrouver bien-être et épanouissement. Prenez rendez-vous en ligne." />
		<meta property="og:url" content="https://www.sexo-logique.com" />
		<meta property="og:type" content="health.care" />
		<meta property="og:image" content="https://www.sexo-logique.com/images/chloe640.avif" />
		<meta property="business:contact_data:street_address" content="52 rue des Jardiniers" />
		<meta property="business:contact_data:locality" content="Nancy" />
		<meta property="business:contact_data:postal_code" content="54000" />
		<meta property="business:contact_data:country_name" content="France" />
		<meta property="business:contact_data:email" content="contact.sexologique@gmail.com" />
		<meta property="business:contact_data:phone_number" content="+33612175272" />
		<meta property="business:contact_data:website" content="https://www.sexo-logique.com" />

		<link rel="icon" type="image/x-icon" href="images/favicon.ico">
		<link rel="apple-touch-icon" href="images/favicon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
		
       
        <link rel="preconnect" href="https://app.acuityscheduling.com" crossorigin>
        <link rel="preconnect" href="https://embed.acuityscheduling.com" crossorigin>

	<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" media="print" onload="this.media='all'">
    <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    </noscript>
		
        <script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>

		<link rel="stylesheet" href="style.css">
  
  </head>
<body class="antialiased">
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 py-4 transition-all duration-300">
        <div class="container mx-auto px-4">
<nav class="flex items-center justify-between h-16 glass-effect rounded-full px-4 lg:px-8 shadow-sm">
    <a href="/" class="text-xl font-bold text-custom-dark flex-shrink-0">sexo-logique.com</a>
    
    <div class="hidden md:flex items-center md:space-x-4 lg:space-x-8 text-custom-dark">
        <a href="/#consultations" class="nav-link">Consultations</a>
        <a href="/#apropos" class="nav-link">À propos</a>
        <a href="/sexeploration.html" class="nav-link">Podcast</a>
        <a href="/#contact" class="nav-link">Contact</a>
    </div>
    
    <button data-src="https://sexologue.as.me/schedule/2810fbd3?calendarIds=9092470" class="open-schedule-modal hidden md:inline-block bg-custom-dark text-white md:px-4 lg:px-6 py-2 rounded-full hover:bg-opacity-90 transition shadow-md hover:shadow-lg btn-mobile-feedback whitespace-nowrap">Prendre RDV</button>
    
    <button id="mobile-menu-button" class="md:hidden text-2xl text-custom-dark" aria-label="Ouvrir le menu">
        <i class="fas fa-bars"></i>
    </button>
</nav>
            <div id="mobile-menu" class="hidden md:hidden glass-effect rounded-2xl mt-2 p-4 text-custom-dark text-center">
                <a href="#consultations" class="block py-2 hover:text-custom-accent">Consultations</a>
                <a href="#apropos" class="block py-2 hover:text-custom-accent">À propos</a>
                <a href="/sexeploration.html" class="block py-2 hover:text-custom-accent">Podcast</a>
                <a href="#contact" class="block py-2 hover:text-custom-accent">Contact</a>
                <button data-src="https://sexologue.as.me/schedule/2810fbd3?calendarIds=9092470" class="open-schedule-modal mt-4 w-full bg-custom-dark text-white px-6 py-3 rounded-full hover:bg-opacity-90 transition shadow-md btn-mobile-feedback">Prendre RDV</button>
            </div>
        </div>
    </header>

<main>
        <section class="min-h-screen flex items-center justify-center hero-bg">
            <div class="text-center px-4 flex flex-col items-center pt-8 pb-12">
<div class="mb-8">
    <img 
        src="/images/chloe320.avif" 
        srcset="
            /images/chloe320.avif 320w,
            /images/chloe450.avif 450w
        "
        sizes="
            (max-width: 640px) 192px, 
            320px                        
        "
        alt="Chloé François, sexologue clinicienne à Nancy spécialisée dans la thérapie de couple et individuelle."
        fetchpriority="high" 
        decoding="async" 
        class="w-48 h-48 sm:w-80 sm:h-80 md:w-80 md:h-80 rounded-full object-cover shadow-xl border-4 border-white/50"
        loading="lazy"
    >
</div>

                <h1 class="text-4xl sm:text-5xl md:text-7xl font-bold tracking-tight text-custom-dark leading-tight">
                    Chloé François<br>
                    <span class="text-3xl sm:text-4xl md:text-6xl font-medium">Sexologue Clinicienne à Nancy</span>
                </h1>
                <p class="mt-8 text-lg md:text-xl max-w-3xl mx-auto text-gray-700">Retrouvez l'équilibre et l'épanouissement dans votre vie intime grâce à un accompagnement personnalisé, confidentiel et adapté à vos besoins.</p>
<div class="mt-12">
                    <button data-src="https://sexologue.as.me/schedule/2810fbd3?calendarIds=9092470" class="open-schedule-modal bg-custom-dark text-white px-8 sm:px-10 py-4 rounded-full text-lg font-semibold hover:bg-opacity-90 transition-transform transform hover:scale-105 shadow-xl btn-mobile-feedback md:hidden">
                        Prendre rendez-vous
                    </button>
                    <button data-src="https://sexologue.as.me/schedule/2810fbd3?calendarIds=9092470" class="open-schedule-modal bg-custom-dark text-white px-8 sm:px-10 py-4 rounded-full text-lg font-semibold hover:bg-opacity-90 transition-transform transform hover:scale-105 shadow-xl btn-mobile-feedback hidden md:inline-block">
                        Prendre rendez-vous en ligne
                    </button>
                </div>
            </div>
        </section>

        <section id="consultations" class="py-16 md:py-20">
            <div class="max-w-6xl mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-custom-dark">Consultations et Tarifs</h2>
                <p class="mt-4 text-gray-600">Au cabinet ou en téléconsultation, dans un cadre bienveillant, discret et confidentiel.</p>
                <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8 max-w-md mx-auto md:max-w-none">
                    <button class="p-4 md:p-8 bg-white/70 rounded-2xl shadow-md hover:shadow-xl flex flex-col items-center hover:-translate-y-2 transition-all duration-300 cursor-pointer open-schedule-modal" data-src="https://app.acuityscheduling.com/schedule.php?owner=30159921&appointmentType=53895937">
                        <img src="/images/icon-individuelle.png" alt="Icône consultation individuelle" class="mb-2 w-16 h-16 md:w-24 md:h-24" loading="lazy" width="96" height="96">
                        <h3 class="text-lg md:text-2xl font-semibold mt-2">Individuelle</h3>
                        <p class="mt-2 text-sm md:text-base text-gray-600 hidden sm:block">Un espace d'écoute pour aborder vos questionnements.</p>
                    </button>
                    <button class="p-4 md:p-8 bg-white/70 rounded-2xl shadow-md hover:shadow-xl flex flex-col items-center hover:-translate-y-2 transition-all duration-300 cursor-pointer open-schedule-modal" data-src="https://app.acuityscheduling.com/schedule.php?owner=30159921&appointmentType=53895971">
                        <img src="/images/icon-couple.png" alt="Icône consultation de couple" class="mb-2 w-16 h-16 md:w-24 md:h-24" loading="lazy" width="96" height="96">
                        <h3 class="text-lg md:text-2xl font-semibold mt-2">En couple</h3>
                        <p class="mt-2 text-sm md:text-base text-gray-600 hidden sm:block">Un cadre sécurisé pour discuter et enrichir votre intimité.</p>
                    </button>
                    <button class="p-4 md:p-8 bg-white/70 rounded-2xl shadow-md hover:shadow-xl flex flex-col items-center hover:-translate-y-2 transition-all duration-300 cursor-pointer open-schedule-modal" data-src="https://app.acuityscheduling.com/schedule.php?owner=30159921&appointmentType=53896006">
                        <img src="/images/icon-teleconsultation.png" alt="Icône téléconsultation" class="mb-2 w-16 h-16 md:w-24 md:h-24" loading="lazy" width="96" height="96">
                        <h3 class="text-lg md:text-2xl font-semibold mt-2">Téléconsultation</h3>
                        <p class="mt-2 text-sm md:text-base text-gray-600 hidden sm:block">Le même accompagnement qualitatif, depuis chez vous.</p>
                    </button>
                </div>
                <div class="mt-12 md:mt-16 p-6 bg-gray-100/60 rounded-xl max-w-xl mx-auto">
                    <p class="text-xl font-semibold">
                        Tarif unique : <span class="text-3xl text-custom-accent font-bold">70 €</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="apropos" class="py-16 md:py-20">
            <div class="max-w-6xl mx-auto px-6">
                <div id="apropos-card" class="card glass-effect mx-auto">
                    <div class="text-center">
                        <div class="hidden md:block">
                            <div class="w-full overflow-x-auto pb-4 scrollbar-hide">
                                <div id="desktop-tabs-container" class="flex justify-start md:justify-center space-x-2 whitespace-nowrap">
                                    <button data-tab="1" class="tab-btn active px-4 py-2 rounded-full text-sm md:text-base flex-shrink-0">Travaillons ensemble</button>
                                    <button data-tab="2" class="tab-btn px-4 py-2 rounded-full text-sm md:text-base flex-shrink-0">Quand Consulter ?</button>
                                    <button data-tab="3" class="tab-btn px-4 py-2 rounded-full text-sm md:text-base flex-shrink-0">Quels motifs ?</button>
                                    <button data-tab="4" class="tab-btn px-4 py-2 rounded-full text-sm md:text-base flex-shrink-0">Seul ou en Couple</button>
                                    <button data-tab="5" class="tab-btn px-4 py-2 rounded-full text-sm md:text-base flex-shrink-0">Code d'éthique</button>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8">
                            <div id="content-1" class="tab-content transition-opacity duration-300 fade-in">
                                <h3 class="md:hidden text-2xl font-bold text-custom-accent mb-4 text-center">Travaillons ensemble</h3>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">
                                    Diplômée de l’Institut de Sexologie dirigé par le Dr. Jacques Waynberg, je bénéficie d’une solide formation me permettant de vous accompagner au mieux dans la réalité des relations humaines et privées. Ma pratique repose sur une approche réaliste et bienveillante de l’intimité. Je vous accueille dans un cadre où vous pouvez vous sentir à l'aise pour partager vos préoccupations, qu'elles soient d'ordre relationnel, émotionnel, physique ou psychologique.<br>
                                    <br>
                                    La confidentialité est une priorité dans mon cabinet. Soyez assuré(e) que toutes les informations partagées lors de nos sessions resteront confidentielles. Mon objectif est de vous aider à trouver des solutions à vos préoccupations, tout en respectant votre autonomie et votre dignité.<br>
                                    <br>Bien à vous, Chloé, votre sexologue clinicienne.
                                </p>
                            </div>
                            <div id="content-2" class="tab-content transition-opacity duration-300 hidden">
                                <h3 class="md:hidden text-2xl font-bold text-custom-accent mb-4 text-center">Quand consulter ?</h3>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">Dès lors que l'on a des interrogations ou le simple sentiment d'avoir besoin d'une écoute dans les domaines de la vie intime et sensuelle.</p>
                                <div class="mt-12 text-center">
                                    <button id="toggle-thematiques" class="bg-gray-100/60 backdrop-blur-sm text-gray-700 px-6 py-3 rounded-full hover:bg-gray-200/60 transition font-semibold border border-white/20">
                                        <span class="mr-2">Voir les types de consultations fréquentes</span>
                                        <i id="thematiques-icon" class="fas fa-chevron-down rotate-icon"></i>
                                    </button>
                                    <div id="thematiques-content" class="hidden mt-4 bg-white/30 backdrop-blur-lg rounded-xl p-6 shadow-inner border border-white/20">
                                        <div class="max-w-5xl mx-auto">
                                            <h2 class="text-2xl md:text-3xl font-bold text-center text-custom-accent mb-8">Consultations fréquentes en Sexologie</h2>
                                            <div class="grid md:grid-cols-2 gap-x-8 gap-y-4 text-left">
                                                <div class="space-y-4">
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">1. Vie intime et satisfaction personnelle</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">2. Gestion des frustrations ou conflits sexuels</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">3. Retrouver ou développer le désir</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">4. Blocages émotionnels et psychologiques</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">5. Communication autour de l’intimité</h3></div>
                                                </div>
                                                <div class="space-y-4">
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">6. Accompagnement individuel ou en couple</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">7. Préserver ou renforcer la complicité</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">8. Questionnements identitaires et orientation</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">9. Gestion des changements de vie (grossesse, ménopause…)</h3></div>
                                                    <div class="p-4 bg-white rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">10. Santé sexuelle et bien-être général</h3></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="content-3" class="tab-content transition-opacity duration-300 hidden">
                                <h3 class="md:hidden text-2xl font-bold text-custom-accent mb-4 text-center">Quels motifs ?</h3>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">Difficultés dans la vie privée, manque de motivation, absence d'excitation.. ou questions générales relatives à la vie affective.</p>
                                <div class="mt-12 text-center">
                                    <button id="toggle-motifs" class="bg-gray-100/60 backdrop-blur-sm text-gray-700 px-6 py-3 rounded-full hover:bg-gray-200/60 transition font-semibold border border-white/20">
                                        <span class="mr-2">Voir les motifs fréquents</span>
                                        <i id="motifs-icon" class="fas fa-chevron-down rotate-icon"></i>
                                    </button>
                                    <div id="motifs-content" class="hidden mt-4 bg-white/30 backdrop-blur-lg rounded-xl p-6 shadow-inner border border-white/20">
                                        <div class="max-w-5xl mx-auto">
                                            <h2 class="text-2xl md:text-3xl font-bold text-center text-custom-accent mb-8">Motifs fréquents de consultation en Sexologie</h2>
                                            <div class="grid md:grid-cols-2 gap-x-8 gap-y-4 text-left">
                                                <div class="space-y-4">
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">1. Troubles du désir sexuel</h3><p class="text-gray-700 text-sm">Baisse de désir, désir non partagé dans le couple, après accouchement, ménopause ou période de stress.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">2. Troubles de l’érection</h3><p class="text-gray-700 text-sm">Difficultés à obtenir ou maintenir une érection.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">3. Troubles de l’orgasme</h3><p class="text-gray-700 text-sm">Anorgasmie (impossibilité d’atteindre l’orgasme) ou retard d’orgasme.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">4. Éjaculation précoce ou retardée</h3><p class="text-gray-700 text-sm">Gestion des troubles de l’éjaculation.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">5. Douleurs pendant les rapports</h3><p class="text-gray-700 text-sm">Dyspareunie, vaginisme, vulvodynies, qui rendent la sexualité difficile.</p></div>
                                                </div>
                                                <div class="space-y-4">
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">6. Difficultés de communication dans le couple</h3><p class="text-gray-700 text-sm">Manque d’harmonie, frustrations, infidélité ou incompréhensions.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">7. Usage problématique de la pornographie</h3><p class="text-gray-700 text-sm">Addiction ou impact négatif sur la vie intime.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">8. Questionnements identitaires</h3><p class="text-gray-700 text-sm">Orientation sexuelle, identité de genre, accompagnement dans l’acceptation.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">9. Difficultés liées à la santé</h3><p class="text-gray-700 text-sm">Maladies chroniques, traitements ou suites d’un cancer impactant la sexualité.</p></div>
                                                    <div class="p-5 bg-pink-50 rounded-xl shadow-sm"><h3 class="font-semibold text-base md:text-lg text-pink-800">10. Changements de vie</h3><p class="text-gray-700 text-sm">Grossesse, post-partum, ménopause, andropause ou parcours de fertilité.</p></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="content-4" class="tab-content transition-opacity duration-300 hidden">
                                <h3 class="md:hidden text-2xl font-bold text-custom-accent mb-4 text-center">Seul ou en couple</h3>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">Seul(e) ou en couple, vous pouvez bien sûr venir échanger avec moi. Le temps de consultation est ajusté si vous venez accompagné(e) afin d’avoir le temps nécessaire pour bien comprendre vos attentes.</p>
                            </div>
                            <div id="content-5" class="tab-content transition-opacity duration-300 hidden">
                                <h3 class="md:hidden text-2xl font-bold text-custom-accent mb-4 text-center">Code d'éthique</h3>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">
                                    En tant que sexologue, je ne suis pas habilitée à effectuer des examens médicaux ni à prescrire des médicaments après nos séances. Cependant, si le besoin se présente, je peux vous recommander des spécialistes et des médecins compétents avec lesquels je travaille en étroite collaboration afin d’assurer un suivi complet.<br>
                                    <br>En qualité de membre du Syndicat National des sexologues cliniciens, soyez assuré d’avoir à votre écoute une sexologue suivant le code d’éthique qu’exige la profession.
                                </p>
                                <div class="mt-6 flex justify-center">
                                    <img src="/images/snsc.png" alt="Syndicat National des Sexologues Cliniciens" class="mt-6 w-full sm:w-3/4 md:w-1/2 mx-auto" loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

		
<section id="podcast" class="py-16 md:py-20">
    <div class="max-w-6xl mx-auto px-6">
        <div class="text-center">
            <div class="card glass-effect mx-auto text-center">

                <!-- 1. Titre et Description -->
                <h2 class="text-3xl md:text-4xl font-bold text-custom-dark mb-4">
                    Découvrez le podcast <span class="text-custom-accent">Sex(e)ploration</span>
                </h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Le podcast qui décortique la sexualité sous toutes ses formes avec Lucile Bach.
                </p>

                <!-- 2. Appel à l'action principal (avec la bonne couleur) -->
                <div class="mt-6 mb-8 text-center">
                    <a href="/sexeploration.html" class="inline-block bg-[#a37b73] text-white font-semibold text-lg rounded-full px-8 py-3 shadow-lg hover:bg-[#946b64] hover:shadow-xl transform transition-all duration-300 hover:scale-105">
                        <i class="fas fa-book-open mr-3"></i>
                        Découvrir tous les épisodes
                    </a>
                </div>

                <!-- 3. Conteneur du Player -->
                <div id="podcast-content" class="w-full max-w-6xl mx-auto relative">
                    
                    <!-- Lecteur du dernier épisode -->
                    <div id="player-container" style="background-color: #333333; color: white;" class="shadow-2xl rounded-3xl p-8 flex flex-col md:flex-row md:space-x-8 md:space-y-0 space-y-6 items-center">
                        <!-- Contenu du player (image, titre, boutons, etc.) -->
                        <div class="w-full md:w-1/3 flex justify-center md:justify-start">
                            <a href="https://www.instagram.com/sexeploration.lucile.bach/?hl=fr" target="_blank" id="player-image-link" class="block w-64 h-64 relative overflow-hidden rounded-2xl shadow-xl group">
                                <img src="/images/sexeploration.avif" alt="Pochette de l'épisode" class="w-full h-full object-cover transition-opacity duration-300">
                                <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <svg class="w-20 h-20 transform scale-75 group-hover:scale-100 transition-transform duration-300" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                        <defs><linearGradient id="instagramGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#feda75; stop-opacity:1" /><stop offset="25%" style="stop-color:#fa7e1e; stop-opacity:1" /><stop offset="50%" style="stop-color:#d62976; stop-opacity:1" /><stop offset="75%" style="stop-color:#962fbf; stop-opacity:1" /><stop offset="100%" style="stop-color:#4f5bd5; stop-opacity:1" /></linearGradient></defs>
                                        <path fill="url(#instagramGradient)" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path>
                                    </svg>
                                </div>
                            </a>
                        </div>
                        <div class="flex-1 w-full md:w-2/3 md:ml-auto">
                            <h2 id="player-title" class="text-2xl font-bold">Titre de l'épisode</h2>
                            <p id="player-date" class="text-sm text-gray-400 mt-1">Date de publication</p>
                            <div class="space-y-2 mt-4">
                                <input type="range" id="seek-bar" value="0" class="w-full h-2 rounded-lg appearance-none cursor-pointer">
                                <div class="flex justify-between text-xs text-gray-400">
                                    <span id="current-time">0:00</span>
                                    <span id="total-duration">0:00</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-center space-x-6 mt-4">
								<button id="rewind-button" aria-label="Reculer de 10 secondes" class="w-12 h-12 flex items-center justify-center text-xl text-white/80 hover:text-white transition"><i class="fas fa-undo-alt"></i></button>
								
							<button id="play-pause-button" aria-label="Lecture / Pause" class="relative w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition transform hover:scale-105" style="background-image: linear-gradient(to right, #fe8412, #f75917, #e51848, #920b68);">
	
								<i id="play-pause-icon" class="fas fa-play text-white text-3xl"></i>
								
								<div id="player-loading-spinner" class="custom-spinner absolute hidden">
</div>
								
							</button>

								<button id="forward-button" aria-label="Avancer de 10 secondes" class="w-12 h-12 flex items-center justify-center text-xl text-white/80 hover:text-white transition"><i class="fas fa-redo-alt"></i></button>
							</div>
<div class="flex items-center mt-4 w-full">
                                <div class="hidden md:flex items-center space-x-3">
                                    <i class="fas fa-volume-down text-gray-400"></i>
                                    <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1" class="w-24">
                                    <i class="fas fa-volume-up text-gray-400"></i>
                                </div>

                                <div class="flex-1 md:flex-none flex justify-center md:ml-auto space-x-6">
                                    <button id="download-button" class="text-white hover:text-custom-accent transition-colors"><i class="fas fa-download text-2xl"></i></button>
                                    <button id="toggle-episodes-button" class="text-white hover:text-custom-accent transition-colors"><i class="fas fa-list text-2xl"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="episode-list-dropdown">
                        <div class="dropdown-content">
                            <button id="close-episodes-btn" aria-label="Fermer la liste des épisodes" class="absolute top-4 right-4 z-10 flex h-9 w-9 items-center justify-center rounded-full text-custom-dark/50 transition-all hover:bg-black/10 hover:text-custom-dark">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            <div id="episodes-list" class="space-y-2">
                            </div>
<div id="scroll-indicator" class="cursor-pointer absolute bottom-10 left-1/2 -translate-x-1/2">
  <svg class="w-8 h-8 text-white drop-shadow-md animate-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
  </svg>
</div>


                        </div>
                    </div>
                </div>
                
                <div id="episodes-section" style="display: none;">
                    <div id="episodes-container-wrapper">
                        <div class="relative flex items-center justify-center">
                            <div id="carousel-viewport">
                                <div id="carousel-track" class="flex"></div>
                            </div>
                            <button id="prev-slide-button"></button>
                            <button id="next-slide-button"></button>
                        </div>
                    </div>
                </div>

                <!-- 4. Liens externes -->
                <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="https://open.spotify.com/show/3477q2jyE0640A8XkkDXCj?si=7c77daae8ca64cd7" target="_blank" class="bg-[#1DB954] text-white px-6 py-3 rounded-2xl font-semibold hover:bg-green-600 transition flex items-center justify-center gap-3 shadow-md hover:shadow-lg">
                        <i class="fab fa-spotify text-xl"></i> Écouter sur Spotify
                    </a>
                    <a href="https://podcasts.apple.com/fr/podcast/id1807489334" target="_blank" class="bg-black text-white px-6 py-3 rounded-2xl font-semibold hover:bg-gray-800 transition flex items-center justify-center gap-3 shadow-md hover:shadow-lg">
                        <i class="fab fa-apple text-xl"></i> Écouter sur Apple Podcasts
                    </a>
                    <a href="https://www.deezer.com/fr/show/1001788981" target="_blank" class="bg-[#FEAA2D] text-black px-6 py-3 rounded-2xl font-semibold hover:bg-opacity-90 transition flex items-center justify-center gap-3 shadow-md hover:shadow-lg">
                        <i class="fa-brands fa-deezer text-xl"></i> Écouter sur Deezer
                    </a>
                </div>

            </div>
        </div>
    </div>
</section>

		
		
		

        <section id="contact" class="py-12 md:py-20">
            <div class="container mx-auto px-4">
                <div class="card grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="text-center md:text-left">
                        <h2 class="text-3xl md:text-4xl font-bold text-custom-dark">Contact & Localisation</h2>
                        <p class="mt-4 text-lg text-gray-600">Pour toute information ou rendez-vous, n'hésitez pas à me contacter.</p>
                        <ul class="mt-6 space-y-3 text-base md:text-lg text-custom-dark text-left">
                            <li class="flex items-center justify-start"><i class="fas fa-phone-alt text-xl mr-4 w-6 text-center"></i><a href="tel:0612175272" class="hover:text-custom-accent">06 12 17 52 72</a></li>
                            <li class="flex items-center justify-start"><i class="fas fa-envelope text-xl mr-4 w-6 text-center"></i><a href="mailto:contact.sexologique@gmail.com" class="hover:text-custom-accent">contact.sexologique@gmail.com</a></li>
                            <li class="flex items-center justify-start"><i class="fas fa-map-marker-alt text-xl mr-4 w-6 text-center"></i><a href="https://maps.app.goo.gl/RSunGo4twakQJkDS7" class="hover:text-custom-accent">52 rue des Jardiniers, 54000 Nancy</a></li>
                        </ul>
<div class="mt-6 flex flex-wrap gap-3 justify-center max-w-[144px] mx-auto md:max-w-none md:mx-0 md:justify-start">
                            <a href="https://www.google.com/maps/dir/?api=1&destination=52+Rue+des+Jardiniers+54000+Nancy" target="_blank" rel="noopener" class="social-icon maps w-10 h-10 md:w-14 md:h-14" aria-label="Itinéraire"><i class="fas fa-map-marked-alt text-xl md:text-2xl"></i></a>
                            <a href="tel:0612175272" class="social-icon phone w-10 h-10 md:w-14 md:h-14" aria-label="Appeler"><i class="fas fa-phone-alt text-xl md:text-2xl"></i></a>
                            <a href="mailto:contact.sexologique@gmail.com" class="social-icon email w-10 h-10 md:w-14 md:h-14" aria-label="E-mail"><i class="fas fa-envelope text-xl md:text-2xl"></i></a>
                            <a href="https://www.linkedin.com/in/chlo%C3%A9-fran%C3%A7ois-546128179" target="_blank" rel="noopener" class="social-icon linkedin w-10 h-10 md:w-14 md:h-14" aria-label="LinkedIn"><i class="fab fa-linkedin-in text-xl md:text-2xl"></i></a>
                            <a href="https://www.instagram.com/cabinet_sexo_logique" target="_blank" rel="noopener" class="social-icon instagram w-10 h-10 md:w-14 md:h-14" aria-label="Instagram"><i class="fab fa-instagram text-xl md:text-2xl"></i></a>
                        </div>
                    </div>
                   <div class="p-2 rounded-2xl bg-white/30 shadow-lg border border-white/50">
    
    <div class="relative w-full h-64 md:h-full min-h-[256px] md:min-h-[300px] rounded-xl overflow-hidden" id="map-container">
        </div>
</div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-100/60 border-t border-gray-200/80">
        <div class="container mx-auto px-4 py-8 text-center text-gray-600">
            <p>© 2024 sexo-logique.com - Chloé François - Tous droits réservés.</p>
        </div>
    </footer>

    <div id="apropos-mobile-nav" class="fixed bottom-0 left-0 right-0 z-40 p-2 md:hidden bg-white/70 backdrop-blur-md shadow-[0_-5px_20px_rgba(0,0,0,0.05)] transition-transform duration-200 transform translate-y-full">
        <div class="relative max-w-full mx-auto flex items-center">
            <button id="scroll-left-btn" class="absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/50 rounded-full w-8 h-8 flex items-center justify-center text-custom-accent shadow-md opacity-0 transition-opacity duration-300 cursor-pointer" aria-label="Faire défiler vers la gauche"><i class="fas fa-chevron-left"></i></button>
            <div id="tab-list-scroller" class="w-full overflow-x-auto scrollbar-hide scroll-smooth px-10">
                <div id="mobile-tabs-container" class="flex justify-start space-x-2 whitespace-nowrap py-2">
                    <button data-tab="1" class="tab-btn mobile-tab active px-5 py-3 rounded-full text-sm flex-shrink-0">Travaillons ensemble</button>
                    <button data-tab="2" class="tab-btn mobile-tab px-5 py-3 rounded-full text-sm flex-shrink-0">Quand Consulter ?</button>
                    <button data-tab="3" class="tab-btn mobile-tab px-5 py-3 rounded-full text-sm flex-shrink-0">Quels motifs ?</button>
                    <button data-tab="4" class="tab-btn mobile-tab px-5 py-3 rounded-full text-sm flex-shrink-0">Seul ou en Couple</button>
                    <button data-tab="5" class="tab-btn mobile-tab px-5 py-3 rounded-full text-sm flex-shrink-0">Code d'éthique</button>
                </div>
            </div>
            <button id="scroll-right-btn" class="absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/50 rounded-full w-8 h-8 flex items-center justify-center text-custom-accent shadow-md opacity-0 transition-opacity duration-300 cursor-pointer " aria-label="Faire défiler vers la droite"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <div id="schedule-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black bg-opacity-30 transition-all duration-300 hidden opacity-0">
        <div id="modal-content" class="glass-effect p-6 md:p-8 rounded-2xl shadow-xl w-full max-w-lg md:max-w-4xl transition-all duration-300 transform scale-95 opacity-0">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl md:text-3xl font-light" style="color: #A37B73;">Prise de rendez-vous</h3>
                <button id="close-modal-btn" class="text-gray-400 hover:text-gray-600 transition-colors duration-200" aria-label="Fermer la modale"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
            </div>
            <div class="h-[70vh] w-full relative">
                <div id="loading-spinner" class="absolute inset-0 flex flex-col items-center justify-center bg-white/80 z-10 hidden text-center px-4">
                    <i class="fas fa-spinner fa-spin text-4xl text-custom-accent mb-4"></i>
                    <p class="text-lg font-medium text-custom-dark">Chargement de l’agenda sécurisé…</p>
                </div>
                <iframe id="acuity-iframe" class="w-full h-full border-0 rounded-lg hidden" title="Module de prise de rendez-vous Acuity Scheduling"></iframe>
            </div>
        </div>
    </div>
	 </body>
	
                <script>
    document.addEventListener('DOMContentLoaded', function() {
        
const toggleEpisodesButton = document.getElementById('toggle-episodes-button');
const episodeListDropdown = document.getElementById('episode-list-dropdown');
const episodesList = document.getElementById('episodes-list');

// Écouteur pour le bouton de bascule (toggle)
toggleEpisodesButton.addEventListener('click', (e) => {
    e.stopPropagation(); // Empêche le clic de se propager au document
    episodeListDropdown.classList.toggle('visible');
});


// Écouteur pour sélectionner un épisode
episodesList.addEventListener('click', (e) => {
    const item = e.target.closest('.episode-item');
    if (item) {
        const index = parseInt(item.dataset.episodeIndex, 10);
        if (!isNaN(index)) {
            loadEpisode(index);
            audio.play().catch(err => console.error("Erreur de lecture auto:", err));
            episodeListDropdown.classList.remove('visible'); // Ferme la liste
        }
    }
});

// Fermer la liste déroulante si on clique n'importe où ailleurs
document.addEventListener('click', (e) => {
    if (!episodeListDropdown.contains(e.target) && !toggleEpisodesButton.contains(e.target)) {
        episodeListDropdown.classList.remove('visible'); // LA CORRECTION EST ICI
    }
});


/**
 * Remplit la liste déroulante des épisodes avec les données récupérées.
 * @param {Array} episodes - Le tableau des épisodes à afficher.
 */
function renderEpisodeList(episodes) {
   episodesList.innerHTML = ''; // Vide la liste existante pour éviter les doublons
   if (!episodes || episodes.length === 0) {
       episodesList.innerHTML = '<p class="p-3 text-gray-500">Aucun épisode à afficher.</p>';
       return;
   }
   
   episodes.forEach((episode, index) => {
      const episodeItem = document.createElement('div');
      episodeItem.className = 'episode-item cursor-pointer p-3 rounded-xl hover:bg-gray-200 transition-colors';
      episodeItem.dataset.episodeIndex = index;
      
      const title = document.createElement('p');
      title.className = 'font-semibold text-custom-dark pointer-events-none'; // pointer-events-none pour la délégation
      title.textContent = episode.title;
      
      const date = document.createElement('p');
      date.className = 'text-sm text-gray-500 pointer-events-none'; // pointer-events-none pour la délégation
      date.textContent = episode.date;
      
      episodeItem.appendChild(title);
      episodeItem.appendChild(date);
      episodesList.appendChild(episodeItem);
   });
}
		
        // --- GESTION DE LA CARTE GOOGLE MAPS (Lazy Loading) ---
        const mapContainer = document.getElementById("map-container");
        function createMapIframe() {
            const iframe = document.createElement("iframe");
            iframe.src = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2629.479904222015!2d6.183709276901968!3d48.69205397129596!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4794986e6856a29d%3A0x675836fdee429486!2s52+Rue+des+Jardiniers%2C+54000+Nancy!5e0!3m2!1sfr!2sfr!4v1723737604589!5m2!1sfr!2sfr";
            iframe.className = "absolute top-0 left-0 w-full h-full border-0 rounded-lg";
            iframe.allowFullscreen = true;
            iframe.loading = "lazy";
            iframe.referrerPolicy = "no-referrer-when-downgrade";
            iframe.title = "Carte du cabinet";
            mapContainer.appendChild(iframe);
        }
        if ("IntersectionObserver" in window) {
            const observer = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        createMapIframe();
                        obs.unobserve(mapContainer);
                    }
                });
            }, { rootMargin: "200px" });
            observer.observe(mapContainer);
        } else {
            createMapIframe(); // Fallback pour les anciens navigateurs
        }

// --- GESTION DU HEADER (SCROLL & MENU MOBILE) ---
const header = document.getElementById('main-header');
const mobileMenuButton = document.getElementById('mobile-menu-button');
const mobileMenu = document.getElementById('mobile-menu');

// Gère l'apparence du header au défilement
if (header) {
    window.addEventListener('scroll', () => {
        header.classList.toggle('header-scrolled', window.scrollY > 50);
    });
}

// Gère le clic sur le bouton du menu mobile
if (mobileMenuButton && mobileMenu) {
    const mobileMenuIcon = mobileMenuButton.querySelector('i');
    mobileMenuButton.addEventListener('click', () => {
        const isHidden = mobileMenu.classList.toggle('hidden');
        if (mobileMenuIcon) {
            mobileMenuIcon.className = isHidden ? 'fas fa-bars' : 'fas fa-times';
        }
    });
}

        // --- GESTION DES ONGLETS (TABS) ---
        const aproposCard = document.getElementById('apropos-card');
        const mobileTabsContainer = document.getElementById('mobile-tabs-container');
        const contents = document.querySelectorAll('.tab-content');
        
        // MODIFICATION : Utilisation de la délégation d'événements pour les onglets.
        function handleTabClick(event) {
            const clickedTab = event.target.closest('.tab-btn');
            if (!clickedTab) return;

            const tabNumber = clickedTab.dataset.tab;
            const targetId = `content-${tabNumber}`;

            // Met à jour les boutons actifs (desktop et mobile)
            document.querySelectorAll('.tab-btn').forEach(t => {
                t.classList.toggle('active', t.dataset.tab === tabNumber);
            });

            // Affiche le bon contenu
            contents.forEach(content => {
                content.classList.add('hidden');
                content.classList.remove('fade-in');
            });
            const activeContent = document.getElementById(targetId);
            if (activeContent) {
                activeContent.classList.remove('hidden');
                setTimeout(() => activeContent.classList.add('fade-in'), 10);
            }

            // Scroll vers la carte sur mobile
            if (clickedTab.classList.contains('mobile-tab') && window.innerWidth < 768) {
                setTimeout(() => {
                    aproposCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
        }
        
        aproposCard.addEventListener('click', handleTabClick);
        mobileTabsContainer.addEventListener('click', handleTabClick);


        // --- GESTION DES SECTIONS DÉPLIANTES (ACCORDÉONS) ---
        function setupToggleButton(buttonId, contentId, iconId) {
            const toggleButton = document.getElementById(buttonId);
            const content = document.getElementById(contentId);
            const icon = document.getElementById(iconId);
            if (toggleButton && content && icon) {
                toggleButton.addEventListener('click', () => {
                    const isHidden = content.classList.contains('hidden');
                    content.classList.toggle('hidden');
                    icon.style.transform = isHidden ? 'rotate(180deg)' : 'rotate(0deg)';
                });
            }
        }
        setupToggleButton('toggle-thematiques', 'thematiques-content', 'thematiques-icon');
        setupToggleButton('toggle-motifs', 'motifs-content', 'motifs-icon');

        // --- GESTION DE LA MODALE DE PRISE DE RDV ---
        const modal = document.getElementById('schedule-modal');
        const modalContent = document.getElementById('modal-content');
        const iframe = document.getElementById('acuity-iframe');
        
        const openModal = (src) => {
            if (!src) return;
            loadingSpinner.classList.remove('hidden');
            iframe.classList.add('hidden');
            iframe.src = src;
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        };

        const closeModal = () => {
            modal.classList.add('opacity-0');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                iframe.src = '';
            }, 300);
        };

        iframe.addEventListener('load', () => {
            loadingSpinner.classList.add('hidden');
            iframe.classList.remove('hidden');
        });
        
        // MODIFICATION : Utilisation de la délégation d'événements pour la modale.
        document.body.addEventListener('click', (e) => {
            const openBtn = e.target.closest('.open-schedule-modal');
            const closeBtn = e.target.closest('#close-modal-btn');

            if (openBtn) {
                e.preventDefault();
                openModal(openBtn.dataset.src);
            } else if (closeBtn || e.target === modal) {
                closeModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // --- GESTION DE LA BARRE DE NAVIGATION MOBILE POUR LES ONGLETS ---
        const scroller = document.getElementById('tab-list-scroller');
        const scrollLeftBtn = document.getElementById('scroll-left-btn');
        const scrollRightBtn = document.getElementById('scroll-right-btn');
        const mobileNav = document.getElementById('apropos-mobile-nav');

        if (scroller && mobileNav && aproposCard) {
            const updateArrowVisibility = () => {
                setTimeout(() => {
                    const { scrollLeft, scrollWidth, clientWidth } = scroller;
                    scrollLeftBtn.style.opacity = scrollLeft < 10 ? '0' : '1';
                    scrollRightBtn.style.opacity = scrollWidth - scrollLeft - clientWidth < 10 ? '0' : '1';
                }, 150);
            };

            scrollLeftBtn.addEventListener('click', () => scroller.scrollBy({ left: -200, behavior: 'smooth' }));
            scrollRightBtn.addEventListener('click', () => scroller.scrollBy({ left: 200, behavior: 'smooth' }));
            scroller.addEventListener('scroll', updateArrowVisibility);

            const aproposObserver = new IntersectionObserver(([entry]) => {
                if (entry.isIntersecting) {
                    mobileNav.classList.remove('translate-y-full');
                    updateArrowVisibility();
                } else {
                    mobileNav.classList.add('translate-y-full');
                }
            }, { rootMargin: "-100px 0px -150px 0px", threshold: 0 });
            aproposObserver.observe(aproposCard);
        }

        // =================================================================
        // UTILITY FUNCTIONS
        // =================================================================
        const formatTime = (seconds) => {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60).toString().padStart(2, '0');
            return `${min}:${sec}`;
        };
        
        const debounce = (func, delay = 250) => {
            let timeoutId;
            return (...args) => {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => {
                    func.apply(this, args);
                }, delay);
            };
        };
        
		 // =================================================================
        // PLAYER UI STATE HANDLING
        // =================================================================
        function displayPlayerError() {
            player.title.innerHTML = `<span class="text-lg text-red-400" style="font-size: 1.125rem;"><i class="fas fa-exclamation-triangle mr-2"></i> Erreur de lecture</span>`;
            player.date.textContent = "Le lecteur est indisponible pour l'instant. Veuillez réessayer plus tard.";
            
            // Disable controls
            player.playPauseBtn.disabled = true;
            player.rewindBtn.disabled = true;
            player.forwardBtn.disabled = true;
            player.seekBar.disabled = true;
            player.playPauseBtn.style.cursor = 'not-allowed';
            player.seekBar.style.cursor = 'not-allowed';
        }

        function resetPlayerUI() {
            // Enable controls
            player.playPauseBtn.disabled = false;
            player.rewindBtn.disabled = false;
            player.forwardBtn.disabled = false;
            player.seekBar.disabled = false;
            player.playPauseBtn.style.cursor = 'pointer';
            player.seekBar.style.cursor = 'pointer';
        }
		
        // =================================================================
        // API & DATA HANDLING
        // =================================================================
   /*     async function fetchEpisodes() {
            try {
                const response = await fetch(`/.netlify/functions/get-episodes?podcastId=${podcastId}`);
                if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                return await response.json();
            } catch (error) {
                console.error("Failed to fetch episodes:", error);
                loadingSpinner.innerHTML = `<p class="text-red-500">Erreur lors du chargement des épisodes. Veuillez réessayer plus tard.</p>`;
                return null;
            }
        }
		*/
		async function fetchEpisodes() {
    try {
        // La requête fetch doit maintenant appeler directement l'URL de la fonction Netlify.
        // C'est ce qui rend la requête "inter-origines" et pourquoi les en-têtes CORS
        // que nous avons ajoutés à la fonction Netlify sont nécessaires.[1]
        const response = await fetch(`https://helpful-tapioca-011b0a.netlify.app/.netlify/functions/get-episodes?podcastId=${podcastId}`);
        if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
        return await response.json();
    } catch (error) {
        console.error("Failed to fetch episodes:", error);
        UI.loadingSpinner.innerHTML = `<p class="text-red-500">Erreur lors du chargement des épisodes. Veuillez réessayer plus tard.</p>`;
        return null;
    }
}

        // =================================================================
        // CONSTANTES
        // =================================================================
        const podcastId = 'Vxg5ls9jY0D4';
		const CARDS_PER_SLIDE_GROUP = 5;

		const player = {
            title: document.getElementById('player-title'),
            date: document.getElementById('player-date'),
            seekBar: document.getElementById('seek-bar'),
            currentTime: document.getElementById('current-time'),
            totalDuration: document.getElementById('total-duration'),
            playPauseBtn: document.getElementById('play-pause-button'),
            playPauseIcon: document.getElementById('play-pause-icon'),
            rewindBtn: document.getElementById('rewind-button'),
            forwardBtn: document.getElementById('forward-button'),
            volumeSlider: document.getElementById('volume-slider'),
            downloadBtn: document.getElementById('download-button'),
        };

        const carouselViewport = document.getElementById('carousel-viewport');
        const carouselTrack = document.getElementById('carousel-track');
        const prevSlideBtn = document.getElementById('prev-slide-button');
        const nextSlideBtn = document.getElementById('next-slide-button');
        const loadingSpinner = document.getElementById('loading-spinner');
        const podcastContent = document.getElementById('podcast-content');
        const searchInput = document.getElementById('search-input');

        let audio = new Audio();
        let currentEpisodeIndex = 0;
        let currentSlideIndex = 0;
        let episodes = [];
        let fuse;

        // =================================================================
        // download
        // =================================================================
        player.downloadBtn.addEventListener('click', () => {
            const podcastId = 'Vxg5ls9jY0D4';
            if (currentEpisodeIndex !== undefined) {
                const link = document.createElement('a');
                link.href = `/.netlify/functions/download-episode?podcastId=${podcastId}&episodeIndex=${currentEpisodeIndex}`;
                const filename = player.title.textContent.trim().replace(/ /g, '_') + '.mp3';
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        });

// =================================================================
        // LECTEUR AUDIO PAR AMAU
        // =================================================================
         audio.addEventListener('error', displayPlayerError);
		audio.addEventListener('timeupdate', () => {
            if (audio.duration) {
                player.seekBar.value = (audio.currentTime / audio.duration) * 100;
                player.currentTime.textContent = formatTime(audio.currentTime);
            }
        });

        audio.addEventListener('loadedmetadata', () => {
            player.totalDuration.textContent = formatTime(audio.duration);
        });

        audio.addEventListener('ended', () => {
            playNextEpisodeAutomatically();
        });

        audio.addEventListener('play', () => {
            setPauseIcon();
        });

        audio.addEventListener('pause', () => {
            setPlayIcon();
        });

function showLoadingState(isLoading) {
            const spinner = document.getElementById('player-loading-spinner');
            if (isLoading) {
                player.playPauseIcon.classList.add('hidden');
                spinner.classList.remove('hidden');
                player.playPauseBtn.disabled = true;
            } else {
                spinner.classList.add('hidden');
                player.playPauseIcon.classList.remove('hidden');
                player.playPauseBtn.disabled = false;
            }
        }

		function togglePlayPause() {
            if (audio.paused) {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        // On ignore l'erreur "AbortError" qui est normale quand on change de piste rapidement.
                        if (error.name !== 'AbortError') {
                            console.error("Erreur de lecture :", error);
                            displayPlayerError();
                        }
                    });
                }
            } else {
                audio.pause();
            }
        }

        // Écouteurs pour gérer l'état de chargement
        audio.addEventListener('loadstart', () => showLoadingState(true));
        audio.addEventListener('playing', () => showLoadingState(false));
        audio.addEventListener('waiting', () => showLoadingState(true));
        audio.addEventListener('canplay', () => showLoadingState(false));
        audio.addEventListener('pause', () => showLoadingState(false));
        audio.addEventListener('stalled', () => showLoadingState(false));
        audio.addEventListener('error', () => showLoadingState(false));

		function setPlayIcon() {
			const iconElement = document.getElementById('play-pause-icon');
			iconElement.classList.remove('fa-pause');
			iconElement.classList.add('fa-play');
			iconElement.setAttribute('data-icon', 'play'); // C'est la ligne cruciale
		}

		function setPauseIcon() {
			const iconElement = document.getElementById('play-pause-icon');
			iconElement.classList.remove('fa-play');
			iconElement.classList.add('fa-pause');
			iconElement.setAttribute('data-icon', 'pause'); // C'est la ligne cruciale
		}

function playNextEpisodeAutomatically() {
    if (currentEpisodeIndex < episodes.length - 1) {
        // On charge le prochain épisode et on demande sa lecture automatique.
        loadEpisode(currentEpisodeIndex + 1, true);
    } else {
        audio.pause();
        setPlayIcon(); // Assure que l'icône revient en mode "lecture" à la fin de la playlist.
    }
}

        function loadEpisode(index) {
            const episode = episodes[index];
            if (!episode) return;
            currentEpisodeIndex = index;
            player.title.textContent = episode.title;
            player.date.textContent = `${episode.date} - Lucile Bach & Chloé François`;
            audio.pause();
            setPlayIcon();
            audio.src = episode.audio_url;
            updateActiveEpisodeInCarousel();
            const targetSlide = Math.floor(currentEpisodeIndex / CARDS_PER_SLIDE_GROUP);
            if (targetSlide !== currentSlideIndex) {
                goToSlide(targetSlide);
            }
            updateSlideNavigationButtons();
        }

        // =================================================================
// LISTE PAR CARDS
// =================================================================
function updateActiveEpisodeInCarousel() {
    Array.from(carouselTrack.querySelectorAll('.episode-card')).forEach((card, idx) => {
        const originalIndex = card.dataset.originalIndex;
        if (parseInt(originalIndex) === currentEpisodeIndex) {
            card.classList.add('active-episode');
        } else {
            card.classList.remove('active-episode');
        }
    });
}

function renderCarousel(episodesToRender) {
    carouselTrack.innerHTML = '';

    if (episodesToRender.length === 0) {
        const noResultsMessage = document.createElement('div');
        noResultsMessage.className = 'flex flex-col items-center justify-center h-full w-full py-16 text-center';
        noResultsMessage.innerHTML = `
            <i class="fas fa-microphone-alt text-6xl text-gray-300 mb-4"></i>
            <p class="text-xl text-gray-500 font-semibold mb-2">Aucun épisode trouvé</p>
            <p class="text-gray-400 max-w-sm">Veuillez essayer un autre mot-clé.</p>
        `;
        carouselTrack.appendChild(noResultsMessage);
        prevSlideBtn.disabled = true;
        nextSlideBtn.disabled = true;
        return;
    }

    let currentSlideGroup;
    episodesToRender.forEach((episode, index) => {
        if (index % CARDS_PER_SLIDE_GROUP === 0) {
            currentSlideGroup = document.createElement("div");
            currentSlideGroup.className = "slide-group";
            carouselTrack.appendChild(currentSlideGroup);
        }

        const originalIndex = episodes.findIndex(e => e.id === episode.id);

        const card = document.createElement("div");
        card.className = "episode-card relative w-full h-full rounded-2xl overflow-hidden shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 cursor-pointer";
        card.dataset.originalIndex = originalIndex;

        const imageUrl = episode.imageUrl || '/images/sexeploration.avif';
        
        card.innerHTML = `
            <img src="${imageUrl}" alt="Pochette de l'épisode : ${episode.title}" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-black bg-opacity-40 transition-opacity duration-300 group-hover:bg-opacity-60 flex flex-col justify-end p-4">
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <p class="font-semibold text-white leading-tight mb-1 text-base">${episode.title}</p>
                        <span class="text-xs text-gray-300">${episode.date}</span>
                    </div>
                    <div class="w-12 h-12 flex items-center justify-center rounded-full bg-white/30 backdrop-blur-sm transition-transform duration-300 transform group-hover:scale-110">
                        <i class="fas fa-play text-white text-xl"></i>
                    </div>
                </div>
            </div>
        `;
        
        card.addEventListener("click", () => {
            loadEpisode(originalIndex);
            togglePlayPause();
        });

        currentSlideGroup.appendChild(card);
    });

    updateActiveEpisodeInCarousel();
    goToSlide(currentSlideIndex);
    updateSlideNavigationButtons();
}

function goToSlide(slideIndex) {
    const slideGroups = carouselTrack.querySelectorAll('.slide-group');
    const totalSlides = slideGroups.length;
    if (slideIndex < 0) slideIndex = 0;
    if (slideIndex >= totalSlides) slideIndex = totalSlides - 1;
    currentSlideIndex = slideIndex;

    const firstSlide = carouselTrack.querySelector('.slide-group');
    if (!firstSlide) return;

    const trackStyle = window.getComputedStyle(carouselTrack);
    const gap = parseFloat(trackStyle.gap) || 0;
    const slideWidth = firstSlide.offsetWidth + gap;

    const offset = -currentSlideIndex * slideWidth;
    carouselTrack.style.transform = `translateX(${offset}px)`;

    updateSlideNavigationButtons();
}

function updateSlideNavigationButtons() {
    const totalSlides = Math.ceil(carouselTrack.querySelectorAll('.episode-card').length / CARDS_PER_SLIDE_GROUP);
    prevSlideBtn.disabled = currentSlideIndex === 0;
    nextSlideBtn.disabled = currentSlideIndex >= (totalSlides - 1);
}

function showPreviousSlide() { goToSlide(currentSlideIndex - 1); }
function showNextSlide() { goToSlide(currentSlideIndex + 1); }

const closeEpisodesButton = document.getElementById('close-episodes-btn');
const episodeListDropdownContainer = document.getElementById('episode-list-dropdown');

if (closeEpisodesButton && episodeListDropdownContainer) {
    closeEpisodesButton.addEventListener('click', () => {
        episodeListDropdownContainer.classList.remove('visible');
    });
}

const episodesListScroller = document.getElementById('episodes-list');
const scrollIndicator = document.getElementById('scroll-indicator');

if (episodesList && scrollIndicator) {
    // Cache l'indicateur dès que l'utilisateur commence à faire défiler manuellement
    episodesList.addEventListener('scroll', () => {
        scrollIndicator.classList.add('hidden');
    }, { once: true });

    // Ajoute l'événement de clic sur l'indicateur
    scrollIndicator.addEventListener('click', () => {
        // Fait défiler la liste doucement vers le bas
        episodesList.scrollBy({
            top: episodesList.clientHeight * 0.8, // Défile de 80% de la hauteur visible
            behavior: 'smooth'
        });
    });
}


        // =================================================================
        // INIT
        // =================================================================
        async function init() {
            try {
                episodes = await fetchEpisodes();
                renderEpisodeList(episodes); 

                window.addEventListener('resize', debounce(() => {
                    goToSlide(currentSlideIndex);
                }));

                if (episodes && episodes.length > 0) {
                    renderCarousel(episodes);
                    loadEpisode(0);
                } else {
                    loadingSpinner.innerHTML = `<p class="text-gray-500">Aucun épisode disponible pour le moment.</p>`;
                }
            } catch (err) {
                console.error(err);
                loadingSpinner.innerHTML = `<p class="text-red-500">Erreur critique lors du chargement du lecteur.</p>`;
            }
        }

        player.playPauseBtn.addEventListener('click', togglePlayPause);
        player.rewindBtn.addEventListener('click', () => { audio.currentTime -= 10; });
        player.forwardBtn.addEventListener('click', () => { audio.currentTime += 10; });
        player.volumeSlider.addEventListener('input', (e) => { audio.volume = e.target.value; });
        player.seekBar.addEventListener('input', (e) => {
            if (audio.duration) audio.currentTime = (e.target.value / 100) * audio.duration;
        });

        prevSlideBtn.addEventListener('click', showPreviousSlide);
        nextSlideBtn.addEventListener('click', showNextSlide);

        init();
    });
    </script>
</html>

